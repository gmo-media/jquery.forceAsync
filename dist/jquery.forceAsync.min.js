/*!
 * jQuery Force Async v1.1.1
 * (c) 2014 GMO Media,Inc.
 * MIT license
 */
!function(n){var t,a=0,r={},i={},o=!document.all,c={path:"./",delay:!1};document.createElement("forceasync"),n.forceAsync=t=function(e){var t,r=this;r.$t=n(e),r.id=e.id||"forceAsync-"+a++,r.style=r.$t.parent().attr("style"),"string"!=typeof r.style&&(r.style=""),r.html=(e.outerHTML||(t=e,"<script"+n.map(t.attributes,function(e){return e.specified?" "+e.name+'="'+e.value+'"':""}).join("")+">"+t.innerHTML+"<\/script>")).replace(/^<forceasync/i,"<script").replace(/<\/forceasync>$/i,"<\/script>").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&"),r.refresh=1e3*(r.$t.data("refresh")||0),r.require=r.$t.data("require"),r.libname=r.$t.data("name")},t.prototype={_frame:function(){return n('<iframe name="'+this.id+'" class="forceAsyncFrame" style="width:100%;height:0;margin:0;border:0;padding:0;" marginwidth="0" marginheight="0" frameborder="0" scrolling="no" allowtransparency="true" seamless/>')},load:function(){var e=this,t=n("<div/>").append((e.$f=e._frame()).hide());e.reload?e.$t.before(t):(e.$t.replaceWith(t),e.reload=!0),e.$f.load(function(){setTimeout(function(){e.$f.show(),e.onload()},4)}),e[o?"_loadD":"_loadS"]()},onload:function(){var e,t=this;0<(e=n(t.doc()).height())&&(t.$t.remove(),t.$t=t.$f.height(e).parent().height(e)),t.refresh&&setTimeout(function(){t.load()},t.refresh)},_loadD:function(){var e=this,t=e.doc();if(t){t.open("text/html");try{t.write('<!DOCTYPE html><html><head><meta charset=utf-8"><base target="_blank"></head><body style="margin:0;padding:0;"><script>document.charset="utf-8";<\/script>'+e.pretag()+'<div style="'+e.style+'">'+e.html+"</div></body></html>")}catch(e){}finally{t.close()}}else e._loadS()},_loadS:function(){var e=this.$f.get(0);e.name=this.id,e.src=c.path+"forceAsync.html"},remove:function(){this.$t.remove()},doc:function(){var e=this.$f.get(0),t="contentWindow";return e.contentDocument||e[t]&&e[t].document},pretag:function(){var e,t,r="",n=0;if(this.require)for(t=(e=this.require.split(/, */)).length;n<t;n++)r+=i[e[n]]?i[e[n]].html:"";return r}},n.extend(t,{config:function(e){n.extend(c,e),/\/$/.test(c.path)||(c.path+="/")},getScript:function(e){return r[e]},exec:function(){n("forceasync").each(function(){var e=new t(this);e.libname?(i[e.libname]=e).remove():(r[e.id]=e).load()})}}),n(function(){c.delay?n(window).load(t.exec):setTimeout(t.exec,0)})}(jQuery);