/*!
 * jQuery Force Async v0.3.0
 * (c) 2014 GMO Media,Inc.
 * MIT license
 */
!function(t){function e(e){return"<script"+t.map(e.attributes,function(t){return t.specified?" "+t.name+'="'+t.value+'"':""}).join("")+">"+e.innerHTML+"</script>"}var r,n=0,i={},a={},o=!document.all,c={path:"./",delay:!1};document.createElement("forceasync"),t.forceAsync=r=function(r){var i=this;i.$t=t(r),i.id=r.id||"forceAsync-"+n++,i.style=i.$t.parent().attr("style"),"string"!=typeof i.style&&(i.style=""),i.html=(r.outerHTML||e(r)).replace(/^<forceasync/i,"<script").replace(/<\/forceasync>$/i,"</script>").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&"),i.refresh=1e3*(i.$t.data("refresh")||0),i.require=i.$t.data("require"),i.libname=i.$t.data("name"),i.cb={}},r.prototype={_frame:function(){return t('<iframe name="'+this.id+'" class="forceAsyncFrame" style="width:100%;height:0;margin:0;border:0;padding:0;" marginwidth="0" marginheight="0" frameborder="0" scrolling="no" allowtransparency="true" seamless />')},load:function(){var t=this;(t.$f=t._frame()).hide(),t.reload?t.$t.before(t.$f):(t.$t.replaceWith(t.$f),t.reload=!0),t[o?"_loadD":"_loadS"](),t.$f.load(function(){setTimeout(function(){t.$f.show(),t.onload()},4)})},onload:function(){var e,r=this;r.cb.load&&r.cb.load(r),e=t(r.doc()).height(),e>0&&(r.$t.remove(),r.$t=r.$f.height(e)),r.refresh&&setTimeout(function(){r.load()},r.refresh)},_loadD:function(){var t=this,e=t.doc();if(!e)return t._loadS(),void 0;e.open("text/html");try{e.write('<!DOCTYPE html><html><head><meta charset=UTF-8"><base target="_blank"></head><body style="margin:0;padding:0;"><script>document.charset="UTF-8";</script>'+t.pretag()+'<div style="'+t.style+'">'+t.tag()+"</div></body></html>")}catch(r){}finally{e.close()}},_loadS:function(){var t=this.$f.get(0);t.name=this.id,t.src=c.path+"forceAsync.html"},remove:function(){this.$t.remove()},doc:function(){var t=this.$f.get(0),e="contentWindow";return t.contentDocument||t[e]&&t[e].document},tag:function(){return this.cb.html?this.cb.html(this.html):this.html},pretag:function(){var t,e,r,n="";if(this.require)for(t=this.require.split(/, */),e=0,r=t.length;r>e;e++)n+=a[t[e]]?a[t[e]].html:"";return n}},t.extend(r,{config:function(e){t.extend(c,e),/\/$/.test(c.path)||(c.path+="/")},getScript:function(t){return i[t]},exec:function(e){if("string"==typeof e){var n=e,o=arguments[1];"string"!=typeof o&&(o=""),e={html:function(t){return n+t+o}}}else"object"!=typeof e&&(e={});t("forceasync").each(function(){var n=new r(this);n.libname?(a[n.libname]=n).remove():(t.extend(n.cb,e),(i[n.id]=n).load())})}}),t(function(){c.delay?t(window).load(r.exec):r.exec()})}(jQuery);
//# sourceMappingURL=jquery.forceAsync.min.js.map